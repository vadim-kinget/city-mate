<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community - CityMate</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%236c5ce7'/><text x='50' y='65' font-family='Arial, sans-serif' font-weight='bold' font-size='50' fill='white' text-anchor='middle'>CM</text></svg>">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav>
        <a href="index.html" class="logo">City<span>Mate</span></a>
        <div class="nav-links">
            <a href="index.html"> <span class="nav-icon">ğŸ—ºï¸</span>
                <span class="nav-text">Map</span>
            </a>
            <a href="guides.html">
                <span class="nav-icon">ğŸ“–</span>
                <span class="nav-text">Guides</span>
            </a>
            <a href="deals.html">
                <span class="nav-icon">ğŸ·ï¸</span>
                <span class="nav-text">Deals</span>
            </a>
            <a href="community.html" class="active">
                <span class="nav-icon">ğŸ‘¥</span>
                <span class="nav-text">Community</span>
            </a>
        </div>

        <div class="nav-right" style="display: flex; align-items: center; gap: 15px;">
    
            <button id="chat-toggle" class="chat-btn">
                ğŸ’¬ <span class="notif-badge">2</span>
            </button>

            <a href="profile.html" class="user-profile">
                <div class="avatar"></div>
                <span>Alex</span>
            </a>
        </div>

    </nav>

    <div class="community-container">
        
        <header class="community-header">
            <h1>Community Hub ğŸŒ</h1>
            <p>Connect with people, join squads, and find your language buddy.</p>
        </header>

        <div class="comm-grid">
            
            <div class="comm-main">
                
                <div class="section-title">
                    <h2>ğŸ”¥ Popular Squads</h2>
                    <a href="#">See all</a>
                </div>

                <div class="squads-row">
                    <div class="squad-card">
                        <div class="squad-icon bg-purple">ğŸ¨</div>
                        <div class="squad-info">
                            <h3>Museum Lovers</h3>
                            <p>128 Members</p>
                        </div>
                        <button class="join-btn">Join</button>
                    </div>

                    <div class="squad-card">
                        <div class="squad-icon bg-green">ğŸ¥¾</div>
                        <div class="squad-info">
                            <h3>Hikers of Lille</h3>
                            <p>85 Members</p>
                        </div>
                        <button class="join-btn">Join</button>
                    </div>

                    <div class="squad-card">
                        <div class="squad-icon bg-red">ğŸ®</div>
                        <div class="squad-info">
                            <h3>Gaming Night</h3>
                            <p>240 Members</p>
                        </div>
                        <button class="join-btn">Join</button>
                    </div>
                </div>

                <div class="section-title" style="margin-top: 40px;">
                    <h2>ğŸ—£ï¸ Language Buddies</h2>
                    <p class="subtitle">Practice a new language with a local.</p>
                </div>

                <div class="buddies-grid">
                    <div class="buddy-card">
                        <div class="buddy-avatar" style="background: #ff7675;">SJ</div>
                        <div class="buddy-info">
                            <h3>Sarah J.</h3>
                            <div class="langs">
                                <span class="lang-tag">ğŸ‡¬ğŸ‡§ English</span>
                                <span class="lang-arrow">â¡ï¸</span>
                                <span class="lang-tag">ğŸ‡«ğŸ‡· French</span>
                            </div>
                            <button class="connect-btn">Connect</button>
                        </div>
                    </div>

                    <div class="buddy-card">
                        <div class="buddy-avatar" style="background: #0984e3;">MK</div>
                        <div class="buddy-info">
                            <h3>Mehdi K.</h3>
                            <div class="langs">
                                <span class="lang-tag">ğŸ‡²ğŸ‡¦ Arabic</span>
                                <span class="lang-arrow">â¡ï¸</span>
                                <span class="lang-tag">ğŸ‡¬ğŸ‡§ English</span>
                            </div>
                            <button class="connect-btn">Connect</button>
                        </div>
                    </div>
                </div>

            </div>

            <aside class="comm-sidebar">
                <h3>ğŸ”” Live Activity</h3>
                
                <div class="feed-list">
                    <div class="feed-item">
                        <div class="feed-icon">ğŸ•</div>
                        <div class="feed-content">
                            <strong>Tom</strong> created an event <br>
                            <span class="feed-highlight">Pizza Party @ Domos</span>
                            <span class="feed-time">2 mins ago</span>
                        </div>
                    </div>

                    <div class="feed-item">
                        <div class="feed-icon">ğŸ’¬</div>
                        <div class="feed-content">
                            <strong>Lena</strong> joined <br>
                            <span class="feed-highlight">Museum Lovers</span>
                            <span class="feed-time">15 mins ago</span>
                        </div>
                    </div>

                    <div class="feed-item">
                        <div class="feed-icon">ğŸ¸</div>
                        <div class="feed-content">
                            <strong>Concert Alert</strong> <br>
                            <span class="feed-highlight">Jazz Night at Gare St Sauveur</span>
                            <span class="feed-time">1 hour ago</span>
                        </div>
                    </div>

                    <div class="feed-item">
                        <div class="feed-icon">ğŸ‘‹</div>
                        <div class="feed-content">
                            <strong>New User</strong> <br>
                            <span>Say hi to <strong>Yuki</strong> from Japan! ğŸ‡¯ğŸ‡µ</span>
                            <span class="feed-time">2 hours ago</span>
                        </div>
                    </div>
                </div>
            </aside>

        </div>
    </div>

<div id="chat-drawer" class="chat-drawer">
    
    <div class="chat-header">
        <h3>Messages</h3>
        <button id="close-chat" class="close-btn">&times;</button>
    </div>

    <div id="chat-list-view" class="chat-view active">
        
        <div class="chat-tabs">
            <span class="chat-tab active">All</span>
            <span class="chat-tab">Groups</span>
            <span class="chat-tab">Private</span>
        </div>

        <div class="conversations-list">
            
            <div class="convo-item" onclick="openConversation('Museum Lovers ğŸ¨', true)">
                <div class="convo-avatar bg-purple">ğŸ¨</div>
                <div class="convo-info">
                    <h4>Museum Lovers</h4>
                    <p>Lena: Anyone going to Palais des B...</p>
                </div>
                <span class="time">2m</span>
            </div>

            <div class="convo-item" onclick="openConversation('Sarah J. ğŸ‡¬ğŸ‡§', false)">
                <div class="convo-avatar" style="background: #ff7675;">SJ</div>
                <div class="convo-info">
                    <h4>Sarah J.</h4>
                    <p>That sounds great! See you there.</p>
                </div>
                <span class="time">1h</span>
            </div>

             <div class="convo-item unread">
                <div class="convo-avatar" style="background: #0984e3;">MK</div>
                <div class="convo-info">
                    <h4>Mehdi K.</h4>
                    <p>Do you know where the library is?</p>
                </div>
                <span class="time">3h</span>
                <div class="unread-dot"></div>
            </div>
        </div>
    </div>

    <div id="chat-conversation-view" class="chat-view">
        <div class="active-chat-header">
            <button class="back-btn" onclick="closeConversation()">â†</button>
            <h4 id="current-chat-name">User Name</h4>
        </div>

        <div class="messages-container">
            <div class="message received">
                <p>Hey! Are you coming to the event tonight?</p>
                <span class="msg-time">10:30 AM</span>
            </div>

            <div class="message sent">
                <p>Yes absolutely! I'm bringing a friend.</p>
                <span class="msg-time">10:32 AM</span>
            </div>
            
            <div class="message received">
                <p>Awesome, see you at the Gare St Sauveur! ğŸš‚</p>
                <span class="msg-time">10:33 AM</span>
            </div>
        </div>

        <div class="chat-input-area">
            <input type="text" placeholder="Type a message..." id="msg-input">
            <button class="send-btn">â¤</button>
        </div>
    </div>

</div>

    <script>
        // Boutons Join
        document.querySelectorAll('.join-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if(this.textContent === 'Join') {
                    this.textContent = 'Joined âœ“';
                    this.style.background = 'transparent';
                    this.style.border = '1px solid var(--accent-color)';
                    this.style.color = 'var(--accent-color)';
                } else {
                    this.textContent = 'Join';
                    this.style.background = 'var(--glass-bg)';
                    this.style.border = 'none';
                    this.style.color = 'white';
                }
            });
        });

        // Boutons Connect
        document.querySelectorAll('.connect-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.textContent = 'Request Sent ğŸ“©';
                this.style.background = '#00b894'; // Vert
                this.disabled = true;
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // 1. On rÃ©cupÃ¨re les Ã©lÃ©ments
            const chatDrawer = document.getElementById('chat-drawer');
            const chatToggle = document.getElementById('chat-toggle');
            const closeChatBtn = document.getElementById('close-chat');

            // VÃ©rification de sÃ©curitÃ© (au cas oÃ¹ on oublie le HTML)
            if (chatToggle && chatDrawer) {
                
                // 2. Ouvrir le tiroir
                chatToggle.addEventListener('click', () => {
                    chatDrawer.classList.add('open');
                });

                // 3. Fermer le tiroir
                if (closeChatBtn) {
                    closeChatBtn.addEventListener('click', () => {
                        chatDrawer.classList.remove('open');
                    });
                }

                // Fermer si on clique sur le fond floutÃ© (optionnel mais sympa)
                chatDrawer.addEventListener('click', (e) => {
                    if (e.target === chatDrawer) {
                        chatDrawer.classList.remove('open');
                    }
                });
            }

            // --- NAVIGATION DANS LE CHAT (Liste <-> Conversation) ---
            const listView = document.getElementById('chat-list-view');
            const convoView = document.getElementById('chat-conversation-view');
            const chatTitle = document.getElementById('current-chat-name');

            // On rend ces fonctions globales pour qu'elles marchent avec les onclick="..." du HTML
            window.openConversation = function(name, isGroup) {
                if(listView && convoView) {
                    listView.classList.remove('active');
                    convoView.classList.add('active');
                    if(chatTitle) chatTitle.textContent = name;
                }
            };

            window.closeConversation = function() {
                if(listView && convoView) {
                    convoView.classList.remove('active');
                    listView.classList.add('active');
                }
            };
        });
    </script>

</body>



</html>